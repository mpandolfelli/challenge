<div class="hero">
	<div fxLayoutAlign="end start" fxFlex fxLayout="column" fxLayoutGap="10px"  fxFlex.gt-xs="540px" fxFlex.gt-sm="720px" fxFlex.gt-md="1140px" fxFlex.gt-lg="1140px" style="margin: auto">
		<h2>Tecnolog√≠a</h2>
	</div>	
</div>
<div fxLayoutAlign="end start">
	<div fxFlex fxLayout="column" fxLayoutGap="10px"  fxFlex.gt-xs="540px" fxFlex.gt-sm="720px" fxFlex.gt-md="1140px" fxFlex.gt-lg="1140px" style="margin: auto">
		<div class="categories" *ngIf="filterCategories">
			<mat-chip-list>
				<mat-chip *ngFor="let category of filterCategories" (click)="updateFilters({category: category})">{{category}}</mat-chip>
			</mat-chip-list>
		</div>   
		<div *ngIf="filterPoints">
			{{minPoints}}
			<mat-slider class="example-margin" [max]="maxPoints" [min]="minPoints" [value]="maxPoints" [(ngModel)]="filters.points" (change)="updateFilters({points: filters.points})"></mat-slider>

			{{maxPoints}}
			<div>Filtrando hasta {{filters.points}} puntos</div>
		</div>
		<div fxLayout="row wrap" >
			<div *ngFor="let ghost of ghosts | filter: filters.category:filters.points" fxFlex="25" fxFlex.md="33" fxFlex.sm="50" fxFlex.xs="100" fxLayout="column" style="padding: 5px;">
				<content-loader height="250" speed="2" *ngIf="!isReady(ghost._id)">
					<svg:rect x="0" y="0" rx="3" ry="3" width="100%"  />
				</content-loader>
				<content-loader speed="2" *ngIf="!ghost" primaryColor="#ccc">
					<svg:rect x="20" y="60" rx="3" ry="3" width="250" height="10" />
					<svg:rect x="20" y="80" rx="3" ry="3" width="200" height="10" />
					<svg:rect x="20" y="100" rx="3" ry="3" width="80" height="10" />
				</content-loader>
				<ng-container>
					<mat-card class="example-card" *ngIf="ghost">

						<img mat-card-image src="{{ghost.img.url}}" alt="{{ghost.name}}" (load)="setReady(ghost._id);">
						<mat-card-header>
							<mat-card-title>{{ghost.name}}</mat-card-title>
							<mat-card-subtitle>{{ghost.category}}</mat-card-subtitle>
						</mat-card-header>
						<mat-card-footer>
							<div *ngIf="ghost.cost <= user?.points">
								<mat-icon>shopping_cart</mat-icon>
							</div>
							<div *ngIf="ghost.cost > user?.points">
								<div>You need {{ ghost.cost | difference: user?.points }}</div>
							</div>
							{{ghost.cost}}
						</mat-card-footer>

					</mat-card>
				</ng-container>	
			</div>
			<mat-paginator (page)="onPageChange($event)" [length]="100"	[pageSize]="8" [pageSizeOptions]="[8, 16, 24, 32]"></mat-paginator>
		</div>
	</div>
</div>